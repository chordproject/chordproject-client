<div class="flex w-full flex-col">
    <!-- View mode -->
    @if (!editMode) {
        <!-- Header -->
        <div
            class="relative w-full bg-accent-100 px-8 sm:px-12 dark:bg-accent-700"
        >
            <!-- Close button -->
            <div
                class="mx-auto flex w-full max-w-3xl items-center justify-end pt-6"
            >
                <a
                    mat-icon-button
                    [matTooltip]="'Close'"
                    [routerLink]="['../']"
                >
                    <mat-icon
                        class="text-white"
                        [svgIcon]="'heroicons_outline:x-mark'"
                    ></mat-icon>
                </a>
            </div>
            <!-- Title -->
            <div class="mt-3 truncate text-4xl font-bold">
                {{ song.title }}
            </div>
            <div class="-mt-16 flex flex-auto items-end">
                <!-- Actions -->
                <div class="mb-1 ml-auto flex items-center">
                    <button mat-stroked-button (click)="toggleEditMode(true)">
                        <mat-icon
                            class="icon-size-5"
                            [svgIcon]="'heroicons_solid:pencil-square'"
                        ></mat-icon>
                        <span class="ml-2">Edit</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Song -->
        <div
            class="relative flex flex-auto flex-col items-center p-6 pt-0 sm:p-12 sm:pt-0"
        >
            <div class="w-full max-w-3xl">
                <!-- Tags -->
                @if (song?.tags?.length) {
                    <div class="mt-2 flex flex-wrap items-center">
                        <!-- Tag -->
                        @for (
                            tag of song.tags | fuseFindByKey: 'id' : tags;
                            track trackByFn($index, tag)
                        ) {
                            <div
                                class="mb-3 mr-3 flex items-center justify-center rounded-full bg-gray-100 px-3 py-1 leading-normal text-gray-500 dark:bg-gray-700 dark:text-gray-300"
                            >
                                <span
                                    class="whitespace-nowrap text-sm font-medium"
                                    >{{ tag.title }}</span
                                >
                            </div>
                        }
                    </div>
                }
            </div>
        </div>
    }

    <!-- Edit mode -->
    @if (editMode) {}
</div>
